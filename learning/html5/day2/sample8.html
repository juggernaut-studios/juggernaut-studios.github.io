<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>Day-2</title>
		<meta name="description" content="" />
		<meta name="author" content="C5189602" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
	</head>

	<body>
		<h1> Misc : Save Canvas Data</h1>
		<button onclick="showEffect(1)">
			show image data
		</button>
		<button onclick="showEffect(2)">
			show image
		</button>
		<br />
		<textarea  id="txtEle" rows="10" cols="20"></textarea>
		<canvas id="canvas" width="400px" height="300px" style="border:2px dotted;"></canvas>
		<script type="text/javascript">
			showEffect = function(cmd) {
				var can = document.getElementById('canvas');
				switch(cmd) {
					case 1:
						var dataURL = can.toDataURL();
						document.getElementById("txtEle").value = dataURL;
						break;
					case 2:
						var dataURL = can.toDataURL();
						window.open(dataURL,"width=400 height=300")	
						break;
				}
			}
			drawOnCanvas = function() {
				var can = document.getElementById('canvas');
				var ctx = can.getContext("2d");
				var imgEle = new Image();

				imgEle.onload = function() {
					ctx.drawImage(imgEle, 0, 0, can.width, can.height);
					ctx.stroke();

				};

				imgEle.src = "rhino.jpg";
			}
			drawOnCanvas();

		</script>
	</body>
</html>
